<!doctype html>

<html lang="en">

    <head>
        <meta charset="utf-8">

        <title></title>

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="reveal-js/css/reveal.min.css">
        <link rel="stylesheet" href="reveal-js/css/theme/default.css" id="theme">

        <!-- OME presentation overrides of the default theme -->
        <link rel="stylesheet" href="css/ome.css">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="reveal-js/lib/css/zenburn.css">

        <!-- If the query includes 'print-pdf', use the PDF print sheet -->
        <script>
            document.write( '<link rel="stylesheet" href="reveal-js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script>

    </head>

    <body class="ome_theme">

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">


                <!-- title page -->
                <section>
                  <h1>OMERO Ops</h1>
                  <p>OME Users meeting 2018</p>
                </section>

                <section>
                    <h2>What, Why, How?</h2>
                    <ul>
                        <li>What is happening with my systems?</li>
                        <li>Why has it crashed?</li>
                        <li>How can I avoid it in future?</li>
                    </ul>

                    <p style="text-align: right; margin-top: 2em;" class="fragment">The solution: Monitoring</p>
                </section>

                <section data-background="images/everything-is-fine.jpg">
                </section>

                <section>

                  <div style="float:left; width:30%; font-size:10pt; line-height:normal;">
                    <div><a href="https://www.adremsoft.com/">AdRem NetCrunch</a></div>
                    <div><a href="https://airbrake.io">Airbrake.io</a></div>
                    <div><a href="https://aws.amazon.com/cloudwatch/">Amazon Cloudwatch</a></div>
                    <div><a href="https://www.amon.cx">Amon</a></div>
                    <div><a href="https://anturis.com/">Anturis</a></div>
                    <div><a href="https://www.appdynamics.com/">AppDynamics</a></div>
                    <div><a href="https://www.appensure.com/">Appensure</a></div>
                    <div><a href="https://www.appoptics.com">Appoptics</a></div>
                    <div><a href="https://appsignal.com/">Appsignal.com</a></div>
                    <div><a href="http://www.bijk.com">Bijk</a></div>
                    <div><a href="https://www.microsoft.com/en-us/cloud-platform/operations-management-suite">Bluestripe</a></div>
                    <div><a href="http://www.bmc.com/truesightpulse">BMC TrueSighe Pluse</a></div>
                    <div><a href="https://bosun.org">Bosun</a></div>
                    <div><a href="http://cabotapp.com">Cabotapp</a></div>
                    <div><a href="http://cacti.net/">Cacti</a></div>
                    <div><a href="http://www.capasystems.com/">Capasystems</a></div>
                    <div><a href="http://www.ca.com/">CAÂ Technologies</a></div>
                    <div><a href="https://mathias-kettner.com/check_mk.html">Check_MK</a></div>
                    <div><a href="http://www.cisco.com/c/en/us/solutions/cloud/cloud-consumption-service.html">Cisco Cloud Consumption Service</a></div>
                    <div><a href="https://collectd.org">Collectd</a></div>
                    <div><a href="http://www.coscale.com/">Coscale</a></div>
                    <div><a href="https://count.ly/">Count.ly</a></div>
                    <div><a href="https://www.datadoghq.com/dg/apm/lpg/">Datadog</a></div>
                    <div><a href="https://www.dynatrace.com/">Dynatrace</a></div>
                    <div><a href="https://www.eventsentry.com/">Eventsentry</a></div>
                    <div><a href="http://www.gear5.me/">Gear5</a></div>
                    <div><a href="https://getplatypus.io">getplatypus.io</a></div>
                    <div><a href="https://nicolargo.github.io/glances/">Glances</a></div>
                    <div><a href="https://grafana.com">Grafana</a></div>
                    <div><a href="http://graphiteapp.org">Graphiteapp</a></div>
                    <div><a href="http://www.happyapps.io/">Happy Apps</a></div>
                    <div><a href="https://www.host-tracker.com">Host Tracker</a></div>
                    <div><a href="https://www.hpe.com">HPE</a></div>
                  </div>

                  <div style="float:left; width:30%; font-size:10pt; line-height:normal;">
                    <div><a href="https://www.ibm.com/middleware/us-en/knowledge/it-service-management/application-performance-management.html">IBM</a></div>
                    <div><a href="https://www.icinga.org/">Icinga</a></div>
                    <div><a href="https://www.idera.com">Idera</a></div>
                    <div><a href="https://www.influxdata.com">InfluxData (InfluxDB)</a></div>
                    <div><a href="http://www.inspectit.rocks/">Inspectit</a></div>
                    <div><a href="https://www.instana.com">instana.com</a></div>
                    <div><a href="http://instrumentalapp.com/">Instrumental</a></div>
                    <div><a href="http://instrumentalapp.com/">Instrumental</a></div>
                    <div><a href="http://www.itrsgroup.com/">ITRS</a></div>
                    <div><a href="https://www.loadview-testing.com/">loadview-testing.com</a></div>
                    <div><a href="http://www.logicmonitor.com/">LogicMonitor</a></div>
                    <div><a href="https://logmatic.io">Logmatic</a></div>
                    <div><a href="http://www.loomsystems.com/">Loom Systems</a></div>
                    <div><a href="https://www.manageengine.com/network-monitoring/">Manageengine Opmanager</a></div>
                    <div><a href="https://mmonit.com/monit/">Monit</a></div>
                    <div><a href="http://www.monitis.com/">Monitis</a></div>
                    <div><a href="http://www.monitorix.org">Monitorix</a></div>
                    <div><a href="http://oss.oetiker.ch/mrtg/">MRTG</a></div>
                    <div><a href="http://munin-monitoring.org/">Munin</a></div>
                    <div><a href="https://my-netdata.io">My-netdata.io</a></div>
                    <div><a href="http://www.nagios.com/">Nagios</a></div>
                    <div><a href="https://netsil.com/">netsil.com</a></div>
                    <div><a href="https://newrelic.com/">New Relic</a></div>
                    <div><a href="https://www.nginx.com/products/nginx-amplify/">Nginx Amplify</a></div>
                    <div><a href="https://nixstats.com">Nixstats</a></div>
                    <div><a href="https://nodequery.com">Nodequery</a></div>
                    <div><a href="https://www.ntop.org">ntop</a></div>
                    <div><a href="https://www.observium.org/">Observium</a></div>
                    <div><a href="https://www.op5.com/">op5</a></div>
                    <div><a href="https://www.opennms.org">OpenNMS</a></div>
                    <div><a href="https://cloud.oracle.com/application-performance-monitoring">Oracle</a></div>
                    <div><a href="https://www.outlyer.com/">Outlyer</a></div>
                    <div><a href="https://www.poweradmin.com/servermonitor/">PA Server Monitor</a></div>
                  </div>

                  <div style="float:left; width:30%; font-size:10pt; line-height:normal;">
                    <div><a href="http://pandorafms.org/">Pandora FMS</a></div>
                    <div><a href="http://www.panopta.com/">Panopta</a></div>
                    <div><a href="https://www.pingdom.com">Pingdom</a></div>
                    <div><a href="http://server-monitor.pingdom.com/">Pingdom Server Monitor</a></div>
                    <div><a href="https://plumbr.eu/">plumbr.eu</a></div>
                    <div><a href="https://prometheus.io/">Prometheus.io</a></div>
                    <div><a href="https://www.paessler.com">PRTG</a></div>
                    <div><a href="https://rhq-project.github.io/rhq/">RHQ</a></div>
                    <div><a href="http://www.riverbed.com/">Riverbed</a></div>
                    <div><a href="https://rollbar.com/">Rollbar</a></div>
                    <div><a href="http://oss.oetiker.ch/rrdtool/">RRDtool</a></div>
                    <div><a href="https://scoutapp.github.io/scout_realtime/">Scoutapp Realtime</a></div>
                    <div><a href="https://sematext.com/">Sematext</a></div>
                    <div><a href="https://sensuapp.org/">Sensuapp.org</a></div>
                    <div><a href="https://sentry.io">Sentry</a></div>
                    <div><a href="https://www.serverdensity.com/">Serverdensity</a></div>
                    <div><a href="http://sightlinesystems.com">Sightline Systems</a></div>
                    <div><a href="http://www.solarwinds.com/">Solarwinds</a></div>
                    <div><a href="https://www.splunk.com">Splunk</a></div>
                    <div><a href="https://www.sumologic.com/">Sumologic.com</a></div>
                    <div><a href="http://supervisord.org/">Supervisord</a></div>
                    <div><a href="https://sysdig.com/">Sysdig.com</a></div>
                    <div><a href="https://www.thousandeyes.com/">ThousandEyes</a></div>
                    <div><a href="https://trace.risingstack.com">Trace by RisingStack</a></div>
                    <div><a href="https://traceview.solarwinds.com/">TraceView</a></div>
                    <div><a href="https://unomaly.com">Unomaly</a></div>
                    <div><a href="https://updown.io">updown.io</a></div>
                    <div><a href="https://uptime.com">Uptime.com</a></div>
                    <div><a href="https://uptimerobot.com/">UptimeRobot</a></div>
                    <div><a href="http://www.teamquest.com/en/products-services/vityl-monitor/">Vityl Monitor</a></div>
                    <div><a href="http://www.whatsupgold.com/">WhatsUpGold</a></div>
                    <div><a href="http://www.zabbix.com/">Zabbix</a></div>
                    <div><a href="https://www.zenoss.com/solution/open-source-vs-enterprise">Zenoss</a></div>
                  </div>

                  <div class="fragment" style="position:absolute; top:2em; background-color:#f2f6f9;">
                    <p style="font-size:3em; font-weight:bold;">So many choices...</p>
                    <p style="font-size:1em;"><a href="https://haydenjames.io/50-top-server-monitoring-application-performance-monitoring-apm-solutions/">https://haydenjames.io/50-top-server-monitoring-application-performance-monitoring-apm-solutions/</a></p>
                  </div>
                </section>

                <section>
                    <h2>We've used two systems in the OME</h2>

                    <div style="float:left; width:40%;">
                      <img src="images/check-mk-logo.png" />
                      <p>Check_MK</p>
                    </div>

                    <div style="float:right; width:40%;">
                      <img src="images/prometheus-logo.png" />
                      <img src="images/grafana-logo.png" />
                    </div>

                </section>

                <section data-background="images/sa-tech.png">
                </section>

                <section style="width:90vw;left:-45vw;">
                    <h3>With just grep and cron, you can still monitor.</h3>
                    <img src="images/parse-logs-email.png">
                    <p><a href="http://localhost">ð½  shell scripts (gitlab incubator)</a></p>
                </section>
               <!-- omero sessions who  -->
                <section style="width:90vw;left:-45vw;">
                    <h3>Who's logged in? sessions who will tell you</h3>
                    <img src="images/terminal-sessions-who.png" >
                    <p><a href="https://docs.openmicroscopy.org/latest/omero/users/cli/sessions.html">ð½ OMERO cli docs</a></p>
                </section>

                <!-- watch for sessions / restart -->
                <section style="width:90vw;left:-45vw;">
                    <h3>Restart web when nobody's looking</h3>
                    <img src="images/terminal-sessions-who-for-restart.png" >
                    <p><a href="">ð½  shell scripts (gitlab incubator)</a></p>
                </section>

                <section><h3>bin/omero admin restart</h3></section>

                          <!-- full screen cmk: all hosts  -->
                <section  data-background="images/cmk-all-hosts.png" data-background-size="contain">
                    <h2 style="margin-left:40vh;background:white; padding:0; width:11em">All the hosts we care about...</h2>
<p style="height:60vh"></p>
                </section>

                <!-- background of cmk -->
                <section data-background="images/cmk_full_screen.png" data-background-size="contain">
                    <h2 style="margin-left:0vh;background:white; padding:0; width:15em">Issues across entire estate, at a glance.</h2>
<p style="height:40vh"></p>
                </section>

                <!-- background of cmk -->
                <section data-background="images/cmk_full_screen-highlight.png" data-background-size="contain">
<p style="height:40vh"></p>
                </section>

                <!-- background of cmk -->
                <section  style="width:80vw;left:-45vw;" data-background="images/cmk_full_screen.png" data-background-size="contain">
                    <img width="75%" height="75%" src="images/cmk-dumpall-alert-email.png"/>
                </section>

                <!-- background of cmk -->
                <section  style="width:80vw;left:-45vw; "data-background="images/cmk_full_screen.png" data-background-size="contain">
                    <img width="75%" height="75%" src="images/cmk-slack-notify.png"/>
                </section>
      <section style="width:90vw;left:-45vw;">
                    <h3>Public user with sample data enables monitoring of Web</h3>
                    <img src="images/terminal-group-list-user-list.png" >
                    <p><a href="http://localhost">ð½ public user docs</a></p>
                </section>
                
       
                <section style="width:90vw;left:-45vw;">
                <h3>Example http endpoints for OMERO.web</h3>
                <pre><code style="width:90vw;left:-45vw">
  2 HTTP webgateway/img_detail
  3   https://pub-omero.openmicroscopy.org/webgateway/img_detail/1/
  4
  5 HTTP webgateway/render_image
  6   https://pub-omero.openmicroscopy.org/webgateway/render_image/1/47/0/?c=1|21:1952$0000FF,2|32:1831$00FF00,3|90:4302$FF0000&m=c&p=normal&ia=0&q=0.9
  7
  8 HTTP webgateway/render_image_region
  9   https://pub-omero.openmicroscopy.org/webgateway/render_image_region/2/0/0/?tile=2,3,1,45,15
 10
 11 HTTP webgateway/render_thumbnail
 12   https://pub-omero.openmicroscopy.org/webgateway/render_thumbnail/2/
                </code></pre>
                </section>

                <!-- OMERO.web UI full screen slide -->

                <!-- OMERO.web UI with cmk overlaid slide -->
<section style="width:98vw;left:-49vw;">
                    <h3>Monitor all public OMERO.web endpoints</h3>
                    <img src="images/cmk-cropped_most-webgateway.png" width="100%" height="100%" style="padding:0px;margin:0px">
                    <a style="display:block" href="https://github.com/openmicroscopy/openmicroscopy/pull/5699">Fix: openmicroscopy/pull/5699</a>
                </section>

                <!-- OMERO.web UI with cmk overlaid slide -->
<section style="width:88vw;left:-45vw;">
                    <h3>.. and any other production web resources</h3>
                    <img src="images/cmk-cropped_prod-web-endtpoints.png" width="100%" height="100%" style="padding:0px;margin:0px">
                    <a style="display:block" href="https://github.com/openmicroscopy/openmicroscopy/pull/5699">Fix: openmicroscopy/pull/5699</a>
                </section>

                <section>
                    <p>Local Checks - monitor output of any script</p>
                    <p><a href="">ð½  shell scripts (gitlab incubator)</a></p>
                </section>

                <section>
                    <p>PixelData restart... (screenshot of code)</p>
                    <p><a href="">ð½  shell scripts (gitlab incubator)</a></p>
                </section>

                <section>
                    <p>PixelData restart... (screenshot of code)</p>
                    <p><a href="">ð½  shell scripts (gitlab incubator)</a></p>
                </section>
                
                 <!-- Unintented benefit Bugs found with monitoring -->
                <section>
                    <h3>CPU iViewer performance, 2018</h3>
                    <a style="display:block" href="https://github.com/openmicroscopy/openmicroscopy/pull/5699">Fix: openmicroscopy/pull/5699</a>
                </section>

                <section style="width:88vw;left:-45vw;">
                    <h3>Unusual Trends - found open file</h3>
                    <img src="images/ns-web-pub_lsof_grep.png" width="50%" height="50%" style="padding:0px;margin:0px">
                    <img src="images/ns-web-pub_lsof_FIFO.png" width="50%" height="50%" style="padding:0px;margin:0px">
                    <img src="images/ns-web-pub_threads_gunicorn.png" width="50%" height="50%" style="padding:0px;margin:0px">
                    <a style="display:block" href="https://github.com/openmicroscopy/openmicroscopy/pull/5699">Fix: openmicroscopy/pull/5699</a>
                </section>

                <section data-background="images/operations-team-crop.jpg" data-background-position="right" data-background-size="contain">
                  <div style="width:50%;">
                    <h2 style="line-height:normal;">Why Prometheus and Grafana instead of Check_MK?</h2>
                    <ul>
                      <li>Automatic deployment</li>
                      <li class="fragment">Horizontal scaling</li>
                      <li class="fragment">It looks nice!</li>
                    </ul>
                  </div>
                </section>

                <section>
                  <h2><a href="https://outreach.openmicroscopy.org/grafana" target="_blank">outreach.openmicroscopy.org/grafana</a></h2>
                  <a href="https://outreach.openmicroscopy.org/grafana" target="_blank">
                    <img src="images/outreach-grafana-qr.png" />
                  </a>
                </section>

                <section>
                  <h2><a href="https://github.com/openmicroscopy/prod-playbooks/pull/70">Example deployment</a></h2>
                  <a href="https://github.com/openmicroscopy/prod-playbooks/pull/70">
                    <img src="images/outreach-monitoring-gh-pr.png" />
                  </a>
                </section>

                <section>
                  <h2>Discussion ...</h2>
                </section>


                <!-- Backup slides in case network goes down -->

                <section>
                  <!-- This slide is intentionally blank -->
                </section>

                <section>

                  <section data-background="images/everything-is-fine.jpg">
                  </section>

                  <section data-background="images/outreach-grafana-list.png" data-background-size="contain">
                  </section>

                  <section data-background="images/outreach-grafana-noderesources-7d.png" data-background-size="contain">
                  </section>

                  <section data-background="images/outreach-grafana-sessions-7d.png" data-background-size="contain">
                  </section>

                  <section data-background="images/outreach-grafana-counts-5d.png" data-background-size="contain">
                  </section>

                  <section data-background="images/outreach-grafana-events-3h.png" data-background-size="contain">
                  </section>

                  <section data-background="images/outreach-grafana-postgresql-3h.png" data-background-size="contain">
                  </section>

                  <section data-background="images/outreach-prometheus-java_lang_Memory_HeapMemoryUsage_used.png" data-background-size="contain">
                  </section>

                  <section data-background="images/outreach-prometheus-jmx-blitz.png" data-background-size="contain">
                  </section>

                  <section data-background="images/idr-analysis-grafana-jupyterhub.png" data-background-size="contain">
                  </section>

                <section>

            </div>

        </div>

        <script src="reveal-js/lib/js/head.min.js"></script>
        <script src="reveal-js/js/reveal.min.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                theme: 'sky', //Reveal.getQueryHash().theme, // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    // { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    // { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    // { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'reveal-js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    // { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    // { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
                    // { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
                    // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
                ]
            });

        </script>

    </body>
</html>
